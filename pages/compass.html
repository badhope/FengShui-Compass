<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
    <title>èµ›åšç½—ç›˜ Â· ç²¾å‡†é£æ°´æµ‹ç®— - å›½é£ç„æ˜“</title>
    <style>
        /* å…¨å±€å˜é‡ä¸åŸºç¡€æ ·å¼ï¼ˆå¤ç”¨é¦–é¡µå˜é‡ï¼Œä¿æŒé£æ ¼ç»Ÿä¸€ï¼‰ */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: "SimHei", "Microsoft YaHei", "PingFang SC", sans-serif;
        }
        :root {
            /* å›½é£ä¸»è‰²è°ƒ */
            --color-black: #0a0a0a; /* ç„é»‘ */
            --color-red: #c8102e; /* æœ±ç ‚çº¢ */
            --color-gold: #ffd700; /* éé‡‘ */
            --color-green: #228b22; /* é’é»›ç»¿ */
            --color-blue: #1e90ff; /* æ°´è“ */
            --color-gray-light: #e0e0e0; /* æµ…ç° */
            --color-gray-dark: #333; /* æ·±ç° */
            
            /* å¹´è½»æ¨¡å¼å˜é‡ */
            --font-size-base: 16px;
            --font-size-title: 20px;
            --font-size-subtitle: 18px;
            --button-size: 44px;
            --card-padding: 20px;
            --border-radius: 12px;
            --shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
            --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            
            /* é•¿è¾ˆæ¨¡å¼å˜é‡ */
            --elder-font-base: 32px;
            --elder-font-title: 36px;
            --elder-font-subtitle: 34px;
            --elder-button-size: 80px;
            --elder-card-padding: 35px;
            --elder-border-radius: 20px;
        }
        .elder-mode {
            --font-size-base: var(--elder-font-base);
            --font-size-title: var(--elder-font-title);
            --font-size-subtitle: var(--elder-font-subtitle);
            --button-size: var(--elder-button-size);
            --card-padding: var(--elder-card-padding);
            --border-radius: var(--elder-border-radius);
            --shadow: 0 6px 18px rgba(0, 0, 0, 0.4);
        }
        body {
            background-color: var(--color-black);
            color: #fff;
            background-image: radial-gradient(circle at 50% 50%, rgba(200, 16, 46, 0.08) 0%, rgba(255, 215, 0, 0.05) 90%);
            min-height: 100vh;
            padding-bottom: 60px;
            transition: var(--transition);
        }

        /* å›½é£è£…é¥° - åŠ¨æ€çº¿æ¡èƒŒæ™¯ */
        .bg-lines {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 0;
            opacity: 0.1;
        }

        /* å¤´éƒ¨å¯¼èˆªï¼ˆè¿”å›+æ¨¡å¼åˆ‡æ¢ï¼‰ */
        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 25px 5%;
            border-bottom: 2px solid rgba(200, 16, 46, 0.3);
            position: relative;
            z-index: 10;
        }
        .back-btn {
            display: flex;
            align-items: center;
            gap: 8px;
            background: rgba(200, 16, 46, 0.8);
            color: #fff;
            border: none;
            border-radius: 50px;
            padding: 10px 20px;
            font-size: var(--font-size-base);
            cursor: pointer;
            transition: var(--transition);
        }
        .back-btn:hover {
            background: var(--color-gold);
            color: var(--color-black);
            transform: scale(1.05);
        }
        .header-actions {
            display: flex;
            gap: 15px;
        }
        .theme-switch, .voice-switch {
            width: var(--button-size);
            height: var(--button-size);
            border: none;
            border-radius: 50%;
            background-color: rgba(200, 16, 46, 0.8);
            color: #fff;
            font-size: calc(var(--font-size-base) - 4px);
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .theme-switch:hover, .voice-switch:hover {
            background-color: var(--color-gold);
            color: var(--color-black);
            transform: scale(1.05);
        }

        /* é¡µé¢æ ‡é¢˜ */
        .page-title {
            text-align: center;
            font-size: var(--font-size-title);
            color: var(--color-gold);
            margin: 30px 0;
            letter-spacing: 2px;
            position: relative;
            z-index: 5;
        }
        .page-subtitle {
            text-align: center;
            font-size: var(--font-size-base);
            color: var(--color-gray-light);
            margin-bottom: 40px;
            position: relative;
            z-index: 5;
            line-height: 1.6;
        }

        /* ç½—ç›˜æ ¸å¿ƒå®¹å™¨ï¼ˆæ›´å¤§å°ºå¯¸ï¼Œæ›´ç²¾è‡´è¾¹æ¡†ï¼‰ */
        .compass-container {
            width: 90%;
            max-width: 650px;
            height: 650px;
            margin: 0 auto 50px;
            position: relative;
            z-index: 5;
            border-radius: 50%;
            padding: 10px;
            background: linear-gradient(135deg, rgba(200, 16, 46, 0.2), rgba(255, 215, 0, 0.1));
            box-shadow: 0 0 40px rgba(255, 215, 0, 0.15);
        }
        #compass-detail-canvas {
            width: 100%;
            height: 100%;
            border-radius: 50%;
        }
        .compass-tip {
            text-align: center;
            font-size: var(--font-size-base);
            color: var(--color-gray-light);
            margin-top: 10px;
            line-height: 1.6;
            position: relative;
            z-index: 5;
        }

        /* é£æ°´ç»“æœå¡ç‰‡ï¼ˆå¤§å¹…ä¸°å¯Œå†…å®¹ï¼‰ */
        .fengshui-result {
            width: 90%;
            max-width: 800px;
            margin: 0 auto 50px;
            padding: var(--card-padding);
            background: linear-gradient(135deg, rgba(200, 16, 46, 0.15), rgba(255, 215, 0, 0.08));
            border: 1px solid rgba(200, 16, 46, 0.3);
            border-radius: var(--border-radius);
            position: relative;
            z-index: 5;
        }
        .result-title {
            font-size: var(--font-size-subtitle);
            color: var(--color-gold);
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 1px solid rgba(255, 215, 0, 0.2);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .save-result-btn {
            background: rgba(255, 215, 0, 0.2);
            color: var(--color-gold);
            border: 1px solid var(--color-gold);
            border-radius: 50px;
            padding: 5px 15px;
            font-size: calc(var(--font-size-base) - 2px);
            cursor: pointer;
            transition: var(--transition);
        }
        .save-result-btn:hover {
            background: var(--color-gold);
            color: var(--color-black);
        }
        #fengshui-result {
            font-size: var(--font-size-base);
            line-height: 1.8;
        }

        /* æ“ä½œæŒ‰é’®ç»„ï¼ˆé‡ç½®/åˆ†äº«/è§£è¯»ï¼‰ */
        .action-buttons {
            width: 90%;
            max-width: 800px;
            margin: 0 auto 50px;
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            justify-content: center;
            position: relative;
            z-index: 5;
        }
        .action-btn {
            padding: 15px 30px;
            background: linear-gradient(135deg, rgba(200, 16, 46, 0.8), rgba(180, 10, 25, 0.6));
            color: #fff;
            border: none;
            border-radius: 50px;
            font-size: var(--font-size-base);
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .action-btn:hover {
            background: linear-gradient(135deg, var(--color-gold), rgba(255, 215, 0, 0.8));
            color: var(--color-black);
            transform: translateY(-5px);
            box-shadow: var(--shadow);
        }

        /* ç½—ç›˜ä½¿ç”¨æŒ‡å—ï¼ˆæ–°å¢æ¨¡å—ï¼‰ */
        .guide-section {
            width: 90%;
            max-width: 800px;
            margin: 0 auto;
            padding: var(--card-padding);
            background: linear-gradient(135deg, rgba(0, 0, 0, 0.4), rgba(200, 16, 46, 0.1));
            border: 1px solid rgba(255, 215, 0, 0.2);
            border-radius: var(--border-radius);
            position: relative;
            z-index: 5;
        }
        .guide-title {
            font-size: var(--font-size-subtitle);
            color: var(--color-gold);
            margin-bottom: 20px;
        }
        .guide-list {
            list-style: none;
            font-size: var(--font-size-base);
            line-height: 2;
            color: var(--color-gray-light);
        }
        .guide-list li {
            margin-bottom: 15px;
            padding-left: 25px;
            position: relative;
        }
        .guide-list li::before {
            content: 'âœ¦';
            color: var(--color-red);
            position: absolute;
            left: 0;
            top: 0;
        }

        /* å“åº”å¼é€‚é… */
        @media (max-width: 768px) {
            .compass-container {
                width: 95%;
                height: 450px;
            }
            .action-buttons {
                flex-direction: column;
            }
            .action-btn {
                width: 100%;
                justify-content: center;
            }
        }
    </style>
</head>
<body>
    <!-- å›½é£çº¿æ¡èƒŒæ™¯ -->
    <canvas class="bg-lines"></canvas>

    <!-- å¤´éƒ¨å¯¼èˆª -->
    <header>
        <button class="back-btn" onclick="window.location.href='../index.html'">
            â† è¿”å›é¦–é¡µ
        </button>
        <div class="header-actions">
            <button class="theme-switch" id="themeSwitch">é•¿è¾ˆ</button>
            <button class="voice-switch" id="voiceSwitch" onclick="toggleVoice()">æ’­æŠ¥</button>
        </div>
    </header>

    <!-- é¡µé¢æ ‡é¢˜ -->
    <h1 class="page-title">èµ›åšç½—ç›˜ Â· ç²¾å‡†é£æ°´æµ‹ç®—</h1>
    <p class="page-subtitle">æ‹–åŠ¨ç½—ç›˜è°ƒæ•´æ–¹ä½ï¼Œå®æ—¶è§£è¯»äº”è¡Œå…«å¦å‰å‡¶<br>ç»“åˆä¼ ç»Ÿé£æ°´ç†è®ºï¼Œç»™å‡ºä¸“å±è°ƒæ•´å»ºè®®</p>

    <!-- æ ¸å¿ƒç½—ç›˜å®¹å™¨ -->
    <div class="compass-container">
        <canvas id="compass-detail-canvas"></canvas>
        <p class="compass-tip">ğŸ¯ æ‹–åŠ¨ç½—ç›˜ç²¾å‡†å®šä½ | å®æ—¶æ˜¾ç¤ºæ–¹ä½ã€äº”è¡Œã€å‰å‡¶å±æ€§</p>
    </div>

    <!-- é£æ°´ç»“æœå¡ç‰‡ -->
    <div class="fengshui-result">
        <div class="result-title">
            é£æ°´è§£è¯»ç»“æœ
            <button class="save-result-btn" onclick="saveCurrentResult()">ä¿å­˜ç»“æœ</button>
        </div>
        <div id="fengshui-result">
            <p style="text-align: center; color: var(--color-gray-light);">è¯·æ‹–åŠ¨ç½—ç›˜å¼€å§‹æµ‹ç®—...</p>
        </div>
    </div>

    <!-- æ“ä½œæŒ‰é’®ç»„ -->
    <div class="action-buttons">
        <button class="action-btn" onclick="resetCompass()">
            ğŸ”„ é‡ç½®ç½—ç›˜
        </button>
        <button class="action-btn" onclick="shareResult()">
            ğŸ“¤ åˆ†äº«ç»“æœ
        </button>
        <button class="action-btn" onclick="showFullInterpretation()">
            ğŸ“– è¯¦ç»†è§£è¯»
        </button>
    </div>

    <!-- ç½—ç›˜ä½¿ç”¨æŒ‡å— -->
    <div class="guide-section">
        <h3 class="guide-title">ç½—ç›˜ä½¿ç”¨æŒ‡å—</h3>
        <ul class="guide-list">
            <li>1. ä¿æŒè®¾å¤‡æ°´å¹³ï¼Œæ‹–åŠ¨ç½—ç›˜æ—‹è½¬è‡³ç›®æ ‡æ–¹ä½ï¼ˆå¦‚å¤§é—¨ã€å§å®¤åºŠå¤´ã€åŠå…¬æ¡Œæœå‘ï¼‰</li>
            <li>2. ç½—ç›˜åˆ»åº¦å¯¹åº”æ–¹ä½ï¼š0Â°=æ­£åŒ—ï¼ˆåä½ï¼‰ã€90Â°=æ­£ä¸œï¼ˆéœ‡ä½ï¼‰ã€180Â°=æ­£å—ï¼ˆç¦»ä½ï¼‰ã€270Â°=æ­£è¥¿ï¼ˆå…‘ä½ï¼‰</li>
            <li>3. äº”è¡Œå±æ€§è§£è¯»ï¼šé‡‘ï¼ˆç™½è‰²/é‡‘è‰²ï¼‰ä¸»è´¢ã€æœ¨ï¼ˆç»¿è‰²/é’è‰²ï¼‰ä¸»è¿ã€æ°´ï¼ˆé»‘è‰²/è“è‰²ï¼‰ä¸»æ™ºã€ç«ï¼ˆçº¢è‰²/ç´«è‰²ï¼‰ä¸»åã€åœŸï¼ˆé»„è‰²/æ£•è‰²ï¼‰ä¸»ç¨³</li>
            <li>4. å‰å‡¶åˆ¤æ–­ä¾æ®ï¼šç»“åˆå…«å¦æ–¹ä½ã€äº”è¡Œç”Ÿå…‹ã€å½“æ—¥æ—¶è¾°ç»¼åˆåˆ†æï¼Œç»“æœä»…ä¾›å‚è€ƒ</li>
            <li>5. è°ƒæ•´å»ºè®®ä¸ºä¼ ç»Ÿé£æ°´ç»éªŒæ€»ç»“ï¼Œå¯æ ¹æ®è‡ªèº«æƒ…å†µé€‰æ‹©æ€§é‡‡çº³ï¼Œç†æ€§çœ‹å¾…</li>
        </ul>
    </div>

    <!-- å¼•å…¥è„šæœ¬ -->
    <script src="../js/theme-utils.js"></script>
    <script src="../js/compass-utils.js"></script>
    <script>
        // é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–
        window.addEventListener('load', function() {
            // åˆå§‹åŒ–æ¨¡å¼åˆ‡æ¢
            initThemeSwitch();
            // åˆå§‹åŒ–è¯¦æƒ…é¡µç½—ç›˜ï¼ˆå¯äº¤äº’ï¼‰
            initCompass('compass-detail-canvas', true);
            // ç»˜åˆ¶èƒŒæ™¯çº¿æ¡
            drawBackgroundLines();
        });

        // é‡ç½®ç½—ç›˜
        function resetCompass() {
            window.location.reload();
        }

        // ä¿å­˜å½“å‰é£æ°´ç»“æœ
        function saveCurrentResult() {
            const rotation = window.getCompassRotation();
            const resultEl = document.getElementById('fengshui-result');
            const resultHtml = resultEl.innerHTML;
            
            if (resultHtml.includes('è¯·æ‹–åŠ¨ç½—ç›˜å¼€å§‹æµ‹ç®—')) {
                alert('è¯·å…ˆæ‹–åŠ¨ç½—ç›˜è·å–æµ‹ç®—ç»“æœåå†ä¿å­˜ï¼');
                return;
            }

            // æ„é€ ä¿å­˜æ•°æ®
            const resultData = {
                rotation: rotation,
                content: resultHtml,
                time: new Date().toLocaleString()
            };

            // ä¿å­˜åˆ°æœ¬åœ°å­˜å‚¨
            const savedResults = JSON.parse(localStorage.getItem('fengshuiResults') || '[]');
            savedResults.push(resultData);
            // åªä¿ç•™æœ€è¿‘5æ¡ç»“æœ
            const latestResults = savedResults.slice(-5);
            localStorage.setItem('fengshuiResults', JSON.stringify(latestResults));

            alert('âœ… é£æ°´æµ‹ç®—ç»“æœå·²ä¿å­˜ï¼å¯åœ¨"æˆ‘çš„"é¡µé¢æŸ¥çœ‹å†å²è®°å½•');
        }

        // åˆ†äº«ç»“æœï¼ˆæ¨¡æ‹ŸåŠŸèƒ½ï¼‰
        function shareResult() {
            const rotation = window.getCompassRotation();
            const resultEl = document.getElementById('fengshui-result');
            
            if (resultEl.innerHTML.includes('è¯·æ‹–åŠ¨ç½—ç›˜å¼€å§‹æµ‹ç®—')) {
                alert('è¯·å…ˆæ‹–åŠ¨ç½—ç›˜è·å–æµ‹ç®—ç»“æœåå†åˆ†äº«ï¼');
                return;
            }

            // æ¨¡æ‹Ÿåˆ†äº«æ–‡æœ¬
            const shareText = `æˆ‘ç”¨èµ›åšç½—ç›˜æµ‹ç®—çš„é£æ°´ç»“æœï¼š
æ–¹ä½è§’åº¦ï¼š${rotation}Â°
${resultEl.innerText.replace(/<[^>]*>/g, '').substring(0, 100)}...
æ›´å¤šè¯¦æƒ…è¯·æŸ¥çœ‹èµ›åšç½—ç›˜å°ç¨‹åº`;

            // æ¨¡æ‹Ÿå¤åˆ¶åˆ°å‰ªè´´æ¿
            navigator.clipboard.writeText(shareText).then(() => {
                alert('ğŸ“‹ åˆ†äº«æ–‡æœ¬å·²å¤åˆ¶åˆ°å‰ªè´´æ¿ï¼Œå¯ç²˜è´´åˆ°å¾®ä¿¡/æœ‹å‹åœˆç­‰å¹³å°');
            }).catch(() => {
                alert('å¤åˆ¶å¤±è´¥ï¼Œè¯·æ‰‹åŠ¨å¤åˆ¶ä»¥ä¸‹å†…å®¹ï¼š\n' + shareText);
            });
        }

        // æ˜¾ç¤ºè¯¦ç»†è§£è¯»ï¼ˆæ¨¡æ‹Ÿå¼¹çª—ï¼‰
        function showFullInterpretation() {
            const rotation = window.getCompassRotation();
            const resultEl = document.getElementById('fengshui-result');
            
            if (resultEl.innerHTML.includes('è¯·æ‹–åŠ¨ç½—ç›˜å¼€å§‹æµ‹ç®—')) {
                alert('è¯·å…ˆæ‹–åŠ¨ç½—ç›˜è·å–æµ‹ç®—ç»“æœåå†æŸ¥çœ‹è¯¦ç»†è§£è¯»ï¼');
                return;
            }

            // æ¨¡æ‹Ÿè¯¦ç»†è§£è¯»å†…å®¹
            let fullText = '';
            const direction = resultEl.innerText.match(/å½“å‰æ–¹ä½ï¼š(.*?)ï¼ˆ/)[1];
            
            switch(direction) {
                case 'æ­£åŒ—':
                    fullText = `ã€æ­£åŒ—ï¼ˆåä½ï¼‰è¯¦ç»†è§£è¯»ã€‘
åä¸ºæ°´ï¼Œä¸»æ™ºã€ä¸»è´¢ï¼Œä»£è¡¨æ™ºæ…§ä¸æœºé‡ã€‚
ä¼ ç»Ÿé£æ°´è®¤ä¸ºï¼Œæ­£åŒ—æ–¹ä½ä¸ºç„æ­¦ä½ï¼Œå®œé™ä¸å®œåŠ¨ï¼Œæ˜¯ä½å®…çš„é å±±ä½ã€‚
âœ… å‰ä½ç‰¹å¾ï¼š
1. æ­£åŒ—æ–¹ä½æ•´æ´ã€æ˜äº®ã€æ— é®æŒ¡ï¼Œä¸»å®¶äººæ™ºæ…§æå‡ï¼Œè´¢è¿é¡ºé‚
2. æ‘†æ”¾æ°´ç”Ÿæ¤ç‰©ï¼ˆå¦‚å¯Œè´µç«¹ã€ç»¿èï¼‰å¯å¢å¼ºæ°´æ°”ï¼Œæå‡è´¢è¿
3. ä¿æŒé€šé£å¹²ç‡¥ï¼Œå¿Œæ½®æ¹¿é˜´æš—

âŒ å¿ŒçŠ¯ç‰¹å¾ï¼š
1. æ­£åŒ—æ–¹ä½å †æ”¾æ‚ç‰©ã€æœ‰å°–è§’å†²å°„ï¼Œä¸»å®¶äººæ€ç»´æ··ä¹±ï¼Œè´¢è¿å—é˜»
2. æ‘†æ”¾è¿‡å¤šçº¢è‰²/ç´«è‰²ç‰©å“ï¼ˆç«å…‹æ°´ï¼‰ï¼Œä¸»å£èˆŒæ˜¯éï¼Œè´¢è¿ä¸‹é™
3. æ–¹ä½æ½®æ¹¿æ¼æ°´ï¼Œä¸»å¥åº·å—æŸï¼Œæ˜“æ‚£æ³Œå°¿ç³»ç»Ÿç–¾ç—…

ğŸ”§ è°ƒæ•´æ–¹æ¡ˆï¼š
1. æ¸…ç†æ­£åŒ—æ–¹ä½æ‚ç‰©ï¼Œä¿æŒæ•´æ´
2. æ‘†æ”¾é»‘è‰²/è“è‰²é¥°å“å¢å¼ºæ°´æ°”
3. å¿Œæ‘†æ”¾å¤§å‹ç”µå™¨ï¼ˆç«å±æ€§ï¼‰
4. å¯æ‚¬æŒ‚äº”å¸é’±åŒ–è§£ç…æ°”`;
                    break;
                case 'æ­£ä¸œ':
                    fullText = `ã€æ­£ä¸œï¼ˆéœ‡ä½ï¼‰è¯¦ç»†è§£è¯»ã€‘
éœ‡ä¸ºæœ¨ï¼Œä¸»è¿ã€ä¸»äº‹ä¸šï¼Œä»£è¡¨å‘å±•ä¸çªç ´ã€‚
ä¼ ç»Ÿé£æ°´è®¤ä¸ºï¼Œæ­£ä¸œæ–¹ä½ä¸ºé’é¾™ä½ï¼Œå®œåŠ¨ä¸å®œé™ï¼Œæ˜¯ä½å®…çš„é’é¾™æ–¹ã€‚
âœ… å‰ä½ç‰¹å¾ï¼š
1. æ­£ä¸œæ–¹ä½å¼€é˜”ã€æœ‰çª—æˆ·ï¼Œä¸»å®¶äººäº‹ä¸šé¡ºåˆ©ï¼Œå‘å±•è¿…é€Ÿ
2. æ‘†æ”¾ç»¿æ¤ï¼ˆå¦‚å‘è´¢æ ‘ã€å›å­å…°ï¼‰å¯å¢å¼ºæœ¨æ°”ï¼Œæå‡äº‹ä¸šè¿
3. ä¿æŒå…‰çº¿å……è¶³ï¼Œå¿Œé˜´æš—

âŒ å¿ŒçŠ¯ç‰¹å¾ï¼š
1. æ­£ä¸œæ–¹ä½æœ‰é‡ç‰©å‹åˆ¶ã€æ— çª—æˆ·ï¼Œä¸»å®¶äººäº‹ä¸šå—é˜»ï¼Œå‘å±•ç¼“æ…¢
2. æ‘†æ”¾è¿‡å¤šé‡‘å±ç‰©å“ï¼ˆé‡‘å…‹æœ¨ï¼‰ï¼Œä¸»äº‹ä¸šå‹åŠ›å¤§ï¼Œæ˜“é‡å°äºº
3. æ–¹ä½æ‚ä¹±æ— ç« ï¼Œä¸»å®¶äººæƒ…ç»ªä¸ç¨³ï¼Œæ˜“å‘è„¾æ°”

ğŸ”§ è°ƒæ•´æ–¹æ¡ˆï¼š
1. æ‰“å¼€æ­£ä¸œæ–¹ä½çª—æˆ·ï¼Œå¢åŠ é˜³æ°”
2. æ‘†æ”¾ç»¿è‰²/é’è‰²é¥°å“å¢å¼ºæœ¨æ°”
3. å¿Œæ‘†æ”¾åˆ€å…·ã€å‰ªåˆ€ç­‰é‡‘å±åˆ©å™¨
4. å¯æ‘†æ”¾æ–‡æ˜Œå¡”æå‡äº‹ä¸šè¿`;
                    break;
                default:
                    fullText = `ã€${direction}è¯¦ç»†è§£è¯»ã€‘
è¯¥æ–¹ä½äº”è¡Œå±${resultEl.innerText.match(/äº”è¡Œï¼š(.*?) Â·/)[1]}ï¼Œä¸»${resultEl.innerText.match(/å‰å‡¶ï¼š(.*?)\n/)[1]}ã€‚
ä¼ ç»Ÿé£æ°´è®¤ä¸ºï¼Œæ­¤æ–¹ä½ä¸º${resultEl.innerText.match(/ï¼ˆ(.*?)ï¼‰/)[1]}ï¼Œæ˜¯ä½å®…çš„é‡è¦æ–¹ä½ä¹‹ä¸€ã€‚
âœ… å‰ä½ç‰¹å¾ï¼šä¿æŒæ•´æ´ã€é€šé£ã€å…‰çº¿å……è¶³ï¼Œæ‘†æ”¾å¯¹åº”äº”è¡Œå±æ€§çš„é¥°å“
âŒ å¿ŒçŠ¯ç‰¹å¾ï¼šå †æ”¾æ‚ç‰©ã€æœ‰å°–è§’å†²å°„ã€æ‘†æ”¾ç›¸å…‹äº”è¡Œå±æ€§çš„ç‰©å“
ğŸ”§ è°ƒæ•´æ–¹æ¡ˆï¼šæ ¹æ®äº”è¡Œç”Ÿå…‹åŸç†ï¼Œæ‘†æ”¾ç›¸ç”Ÿå±æ€§çš„é¥°å“ï¼ŒåŒ–è§£ç›¸å…‹å› ç´ `;
            }

            // æ¨¡æ‹Ÿå¼¹çª—æ˜¾ç¤º
            alert(`ğŸ“– ${direction}è¯¦ç»†é£æ°´è§£è¯»ï¼š\n\n${fullText}`);
        }

        // ç»˜åˆ¶èƒŒæ™¯åŠ¨æ€çº¿æ¡ï¼ˆå¢å¼ºè§†è§‰æ•ˆæœï¼‰
        function drawBackgroundLines() {
            const canvas = document.querySelector('.bg-lines');
            const ctx = canvas.getContext('2d');
            const width = window.innerWidth;
            const height = window.innerHeight;
            
            canvas.width = width;
            canvas.height = height;

            // ç”Ÿæˆéšæœºçº¿æ¡
            const lines = [];
            const lineCount = 20;

            for (let i = 0; i < lineCount; i++) {
                lines.push({
                    x1: Math.random() * width,
                    y1: Math.random() * height,
                    x2: Math.random() * width,
                    y2: Math.random() * height,
                    speed: Math.random() * 0.5 + 0.1,
                    angle: Math.random() * Math.PI * 2
                });
            }

            // åŠ¨ç”»å‡½æ•°
            function animateLines() {
                ctx.clearRect(0, 0, width, height);
                
                lines.forEach(line => {
                    // æ›´æ–°çº¿æ¡ä½ç½®
                    line.x1 += Math.cos(line.angle) * line.speed;
                    line.y1 += Math.sin(line.angle) * line.speed;
                    line.x2 += Math.cos(line.angle + Math.PI/4) * line.speed;
                    line.y2 += Math.sin(line.angle + Math.PI/4) * line.speed;

                    // è¾¹ç•Œæ£€æµ‹
                    if (line.x1 < 0 || line.x1 > width) line.angle = Math.PI - line.angle;
                    if (line.y1 < 0 || line.y1 > height) line.angle = -line.angle;
                    if (line.x2 < 0 || line.x2 > width) line.angle = Math.PI - line.angle;
                    if (line.y2 < 0 || line.y2 > height) line.angle = -line.angle;

                    // ç»˜åˆ¶çº¿æ¡
                    ctx.beginPath();
                    ctx.moveTo(line.x1, line.y1);
                    ctx.lineTo(line.x2, line.y2);
                    ctx.strokeStyle = 'rgba(255, 215, 0, 0.5)';
                    ctx.lineWidth = 1;
                    ctx.stroke();
                });

                requestAnimationFrame(animateLines);
            }

            animateLines();

            // çª—å£å¤§å°å˜åŒ–æ—¶é‡æ–°ç»˜åˆ¶
            window.addEventListener('resize', function() {
                canvas.width = window.innerWidth;
                canvas.height = window.innerHeight;
            });
        }
    </script>
</body>
</html>
