<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
    <title>å®¶å±…é£æ°´æµ‹ç®— Â· å…¨å±‹åˆ†åŒºè§£è¯» - å›½é£ç„æ˜“</title>
    <style>
        /* å…¨å±€å˜é‡ä¸åŸºç¡€æ ·å¼ï¼ˆä¿æŒé£æ ¼ç»Ÿä¸€ï¼‰ */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: "SimHei", "Microsoft YaHei", "PingFang SC", sans-serif;
        }
        :root {
            /* å›½é£ä¸»è‰²è°ƒ */
            --color-black: #0a0a0a; /* ç„é»‘ */
            --color-red: #c8102e; /* æœ±ç ‚çº¢ */
            --color-gold: #ffd700; /* éé‡‘ */
            --color-green: #228b22; /* é’é»›ç»¿ */
            --color-blue: #1e90ff; /* æ°´è“ */
            --color-gray-light: #e0e0e0; /* æµ…ç° */
            --color-gray-dark: #333; /* æ·±ç° */
            
            /* å¹´è½»æ¨¡å¼å˜é‡ */
            --font-size-base: 16px;
            --font-size-title: 20px;
            --font-size-subtitle: 18px;
            --button-size: 44px;
            --card-padding: 20px;
            --border-radius: 12px;
            --shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
            --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            
            /* é•¿è¾ˆæ¨¡å¼å˜é‡ */
            --elder-font-base: 32px;
            --elder-font-title: 36px;
            --elder-font-subtitle: 34px;
            --elder-button-size: 80px;
            --elder-card-padding: 35px;
            --elder-border-radius: 20px;
        }
        .elder-mode {
            --font-size-base: var(--elder-font-base);
            --font-size-title: var(--elder-font-title);
            --font-size-subtitle: var(--elder-font-subtitle);
            --button-size: var(--elder-button-size);
            --card-padding: var(--elder-card-padding);
            --border-radius: var(--elder-border-radius);
            --shadow: 0 6px 18px rgba(0, 0, 0, 0.4);
        }
        body {
            background-color: var(--color-black);
            color: #fff;
            background-image: radial-gradient(circle at 30% 70%, rgba(34, 139, 34, 0.08) 0%, rgba(200, 16, 46, 0.05) 90%);
            min-height: 100vh;
            padding-bottom: 60px;
            transition: var(--transition);
        }

        /* å¤´éƒ¨å¯¼èˆªï¼ˆè¿”å›+æ¨¡å¼åˆ‡æ¢ï¼‰ */
        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 25px 5%;
            border-bottom: 2px solid rgba(200, 16, 46, 0.3);
            position: relative;
            z-index: 10;
        }
        .back-btn {
            display: flex;
            align-items: center;
            gap: 8px;
            background: rgba(200, 16, 46, 0.8);
            color: #fff;
            border: none;
            border-radius: 50px;
            padding: 10px 20px;
            font-size: var(--font-size-base);
            cursor: pointer;
            transition: var(--transition);
        }
        .back-btn:hover {
            background: var(--color-gold);
            color: var(--color-black);
            transform: scale(1.05);
        }
        .theme-switch {
            width: var(--button-size);
            height: var(--button-size);
            border: none;
            border-radius: 50%;
            background-color: rgba(200, 16, 46, 0.8);
            color: #fff;
            font-size: calc(var(--font-size-base) - 4px);
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .theme-switch:hover {
            background-color: var(--color-gold);
            color: var(--color-black);
            transform: scale(1.05);
        }

        /* é¡µé¢æ ‡é¢˜ */
        .page-title {
            text-align: center;
            font-size: var(--font-size-title);
            color: var(--color-gold);
            margin: 30px 0;
            letter-spacing: 2px;
            position: relative;
            z-index: 5;
        }
        .page-subtitle {
            text-align: center;
            font-size: var(--font-size-base);
            color: var(--color-gray-light);
            margin-bottom: 40px;
            position: relative;
            z-index: 5;
            line-height: 1.6;
        }

        /* æˆ·å‹å›¾å®¹å™¨ï¼ˆå¯è§†åŒ–æ ¸å¿ƒï¼‰ */
        .house-layout {
            width: 90%;
            max-width: 800px;
            margin: 0 auto 50px;
            padding: var(--card-padding);
            background: linear-gradient(135deg, rgba(0, 0, 0, 0.4), rgba(200, 16, 46, 0.1));
            border: 1px solid rgba(255, 215, 0, 0.2);
            border-radius: var(--border-radius);
            position: relative;
            z-index: 5;
        }
        .layout-title {
            font-size: var(--font-size-subtitle);
            color: var(--color-gold);
            margin-bottom: 20px;
            text-align: center;
        }
        .layout-canvas-container {
            width: 100%;
            height: 400px;
            background: rgba(0, 0, 0, 0.6);
            border-radius: var(--border-radius);
            overflow: hidden;
            position: relative;
            margin-bottom: 20px;
        }
        #house-layout-canvas {
            width: 100%;
            height: 100%;
        }
        .layout-tip {
            text-align: center;
            font-size: var(--font-size-base);
            color: var(--color-gray-light);
            line-height: 1.6;
        }

        /* åŒºåŸŸé€‰æ‹©å™¨ */
        .area-selector {
            width: 90%;
            max-width: 800px;
            margin: 0 auto 50px;
            position: relative;
            z-index: 5;
        }
        .selector-title {
            font-size: var(--font-size-subtitle);
            color: var(--color-gold);
            margin-bottom: 20px;
            text-align: center;
        }
        .area-buttons {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
        }
        .area-btn {
            padding: 15px 10px;
            background: linear-gradient(135deg, rgba(200, 16, 46, 0.6), rgba(180, 10, 25, 0.4));
            color: #fff;
            border: none;
            border-radius: var(--border-radius);
            font-size: var(--font-size-base);
            cursor: pointer;
            transition: var(--transition);
            text-align: center;
        }
        .area-btn.active {
            background: linear-gradient(135deg, var(--color-gold), rgba(255, 215, 0, 0.8));
            color: var(--color-black);
            font-weight: bold;
        }
        .area-btn:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow);
        }

        /* æµ‹ç®—ç»“æœå¡ç‰‡ï¼ˆå¤§å¹…ä¸°å¯Œå†…å®¹ï¼‰ */
        .calculator-result {
            width: 90%;
            max-width: 800px;
            margin: 0 auto 50px;
            padding: var(--card-padding);
            background: linear-gradient(135deg, rgba(200, 16, 46, 0.15), rgba(255, 215, 0, 0.08));
            border: 1px solid rgba(200, 16, 46, 0.3);
            border-radius: var(--border-radius);
            position: relative;
            z-index: 5;
            display: none; /* é»˜è®¤éšè—ï¼Œé€‰æ‹©åŒºåŸŸåæ˜¾ç¤º */
        }
        .result-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 1px solid rgba(255, 215, 0, 0.2);
        }
        .result-title {
            font-size: var(--font-size-subtitle);
            color: var(--color-gold);
        }
        .save-result-btn {
            background: rgba(255, 215, 0, 0.2);
            color: var(--color-gold);
            border: 1px solid var(--color-gold);
            border-radius: 50px;
            padding: 5px 15px;
            font-size: calc(var(--font-size-base) - 2px);
            cursor: pointer;
            transition: var(--transition);
        }
        .save-result-btn:hover {
            background: var(--color-gold);
            color: var(--color-black);
        }
        .result-content {
            font-size: var(--font-size-base);
            line-height: 2;
            color: var(--color-gray-light);
        }
        .result-score {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 20px;
        }
        .score-label {
            font-size: var(--font-size-base);
            color: var(--color-gold);
        }
        .score-bar {
            flex: 1;
            height: 20px;
            background: rgba(0, 0, 0, 0.4);
            border-radius: 10px;
            overflow: hidden;
            position: relative;
        }
        .score-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--color-red), var(--color-gold), var(--color-green));
            border-radius: 10px;
            transition: width 1s ease-in-out;
        }
        .score-value {
            font-size: var(--font-size-base);
            color: var(--color-gold);
            font-weight: bold;
        }
        .result-section {
            margin-bottom: 25px;
        }
        .result-section-title {
            color: var(--color-red);
            font-weight: bold;
            margin-bottom: 10px;
        }
        .adjust-tips {
            background: rgba(255, 215, 0, 0.1);
            padding: 15px;
            border-radius: 8px;
            margin-top: 15px;
        }
        .adjust-tips-title {
            color: var(--color-gold);
            margin-bottom: 10px;
            font-weight: bold;
        }
        .adjust-tips-list {
            list-style: none;
            padding-left: 15px;
        }
        .adjust-tips-list li {
            margin-bottom: 8px;
            position: relative;
        }
        .adjust-tips-list li::before {
            content: 'âœ“';
            color: var(--color-green);
            position: absolute;
            left: -15px;
        }

        /* ç”ŸæˆæŠ¥å‘ŠæŒ‰é’® */
        .generate-report {
            width: 90%;
            max-width: 800px;
            margin: 0 auto;
            display: flex;
            justify-content: center;
            position: relative;
            z-index: 5;
        }
        .report-btn {
            padding: 18px 40px;
            background: linear-gradient(135deg, var(--color-red), var(--color-gold));
            color: var(--color-black);
            border: none;
            border-radius: 50px;
            font-size: var(--font-size-base);
            font-weight: bold;
            cursor: pointer;
            transition: var(--transition);
        }
        .report-btn:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(255, 215, 0, 0.3);
        }

        /* å“åº”å¼é€‚é… */
        @media (max-width: 768px) {
            .layout-canvas-container {
                height: 300px;
            }
            .area-buttons {
                grid-template-columns: 1fr 1fr;
            }
            .result-score {
                flex-direction: column;
                align-items: flex-start;
                gap: 10px;
            }
            .score-bar {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <!-- å¤´éƒ¨å¯¼èˆª -->
    <header>
        <button class="back-btn" onclick="window.location.href='../index.html'">
            â† è¿”å›é¦–é¡µ
        </button>
        <button class="theme-switch" id="themeSwitch">é•¿è¾ˆ</button>
    </header>

    <!-- é¡µé¢æ ‡é¢˜ -->
    <h1 class="page-title">å®¶å±…é£æ°´æµ‹ç®— Â· å…¨å±‹åˆ†åŒºè§£è¯»</h1>
    <p class="page-subtitle">é€‰æ‹©å®¶å±…ä¸åŒåŒºåŸŸï¼Œç²¾å‡†æµ‹ç®—é£æ°´å‰å‡¶<br>ç»“åˆæˆ·å‹æ–¹ä½ï¼Œç»™å‡ºå¯è§†åŒ–æ”¹é€ å»ºè®®</p>

    <!-- æˆ·å‹å›¾å®¹å™¨ -->
    <div class="house-layout">
        <h3 class="layout-title">å®¶å±…æˆ·å‹ç¤ºæ„å›¾ï¼ˆç‚¹å‡»åŒºåŸŸå¯é€‰ä¸­ï¼‰</h3>
        <div class="layout-canvas-container">
            <canvas id="house-layout-canvas"></canvas>
        </div>
        <p class="layout-tip">ğŸ–±ï¸ ç‚¹å‡»æˆ·å‹å›¾ä¸­çš„åŒºåŸŸæˆ–ä¸‹æ–¹æŒ‰é’®ï¼ŒæŸ¥çœ‹å¯¹åº”é£æ°´è§£è¯»</p>
    </div>

    <!-- åŒºåŸŸé€‰æ‹©å™¨ -->
    <div class="area-selector">
        <h3 class="selector-title">é€‰æ‹©æµ‹ç®—åŒºåŸŸ</h3>
        <div class="area-buttons">
            <button class="area-btn" onclick="selectArea('living')">å®¢å…</button>
            <button class="area-btn" onclick="selectArea('bedroom')">å§å®¤</button>
            <button class="area-btn" onclick="selectArea('kitchen')">å¨æˆ¿</button>
            <button class="area-btn" onclick="selectArea('toilet')">å«ç”Ÿé—´</button>
            <button class="area-btn" onclick="selectArea('entrance')">å…¥æˆ·é—¨</button>
            <button class="area-btn" onclick="selectArea('study')">ä¹¦æˆ¿</button>
            <button class="area-btn" onclick="selectArea('balcony')">é˜³å°</button>
            <button class="area-btn" onclick="selectArea('dining')">é¤å…</button>
        </div>
    </div>

    <!-- æµ‹ç®—ç»“æœå¡ç‰‡ -->
    <div class="calculator-result" id="calculatorResult">
        <div class="result-header">
            <div class="result-title" id="resultAreaTitle">å®¢å…é£æ°´æµ‹ç®—ç»“æœ</div>
            <button class="save-result-btn" onclick="saveHouseResult()">ä¿å­˜ç»“æœ</button>
        </div>
        <div class="result-score">
            <div class="score-label">é£æ°´è¯„åˆ†ï¼š</div>
            <div class="score-bar">
                <div class="score-fill" id="scoreFill" style="width: 0%"></div>
            </div>
            <div class="score-value" id="scoreValue">0åˆ†</div>
        </div>
        <div class="result-content" id="resultContent">
            <!-- åŠ¨æ€å¡«å……å†…å®¹ -->
        </div>
    </div>

    <!-- ç”ŸæˆæŠ¥å‘ŠæŒ‰é’® -->
    <div class="generate-report">
        <button class="report-btn" onclick="generateFullReport()">ğŸ“„ ç”Ÿæˆå…¨å±‹é£æ°´æŠ¥å‘Š</button>
    </div>

    <!-- å¼•å…¥è„šæœ¬ -->
    <script src="../js/theme-utils.js"></script>
    <script>
        // é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–
        window.addEventListener('load', function() {
            // åˆå§‹åŒ–æ¨¡å¼åˆ‡æ¢
            initThemeSwitch();
            // ç»˜åˆ¶æˆ·å‹å›¾
            drawHouseLayout();
        });

        // æˆ·å‹å›¾ç»˜åˆ¶å‡½æ•°ï¼ˆå¯è§†åŒ–æ ¸å¿ƒï¼‰
        function drawHouseLayout() {
            const canvas = document.getElementById('house-layout-canvas');
            const ctx = canvas.getContext('2d');
            const rect = canvas.getBoundingClientRect();
            
            // é€‚é…é«˜æ¸…å±
            const dpr = window.devicePixelRatio || 1;
            canvas.width = rect.width * dpr;
            canvas.height = rect.height * dpr;
            ctx.scale(dpr, dpr);

            // æˆ·å‹å›¾å‚æ•°
            const width = rect.width;
            const height = rect.height;
            const padding = 20;
            const isElderMode = getCurrentTheme() === 'elder';
            const fontSize = isElderMode ? 18 : 14;

            // åŒºåŸŸå®šä¹‰ï¼ˆåæ ‡+åç§°+é¢œè‰²ï¼‰
            const areas = [
                { name: 'entrance', text: 'å…¥æˆ·é—¨', x: padding, y: height/2 - 40, w: 80, h: 80, color: '#c8102e' },
                { name: 'living', text: 'å®¢å…', x: padding + 90, y: padding, w: width/2 - 110, h: height - 2*padding, color: '#ffd700' },
                { name: 'dining', text: 'é¤å…', x: width/2 + 10, y: padding, w: width/2 - 110, h: height/3, color: '#228b22' },
                { name: 'kitchen', text: 'å¨æˆ¿', x: width/2 + 10, y: height/3 + 10, w: width/2 - 110, h: height/3 - 20, color: '#ff4500' },
                { name: 'toilet', text: 'å«ç”Ÿé—´', x: width/2 + 10, y: 2*height/3, w: width/4 - 60, h: height/3 - padding, color: '#1e90ff' },
                { name: 'bedroom', text: 'å§å®¤', x: width/2 + width/4 + 50, y: height/2, w: width/4 - 70, h: height/2 - padding, color: '#9370db' },
                { name: 'study', text: 'ä¹¦æˆ¿', x: width/2 + width/4 + 50, y: padding, w: width/4 - 70, h: height/2 - padding - 10, color: '#8b4513' },
                { name: 'balcony', text: 'é˜³å°', x: padding + 90, y: height - padding - 40, w: width/2 - 110, h: 40, color: '#00fa9a' }
            ];

            // ç»˜åˆ¶èƒŒæ™¯
            ctx.fillStyle = 'rgba(0, 0, 0, 0.8)';
            ctx.fillRect(0, 0, width, height);
            ctx.strokeStyle = '#fff';
            ctx.lineWidth = 2;
            ctx.strokeRect(padding, padding, width - 2*padding, height - 2*padding);

            // ç»˜åˆ¶å„ä¸ªåŒºåŸŸ
            areas.forEach(area => {
                // ç»˜åˆ¶åŒºåŸŸçŸ©å½¢
                ctx.fillStyle = area.color + '80'; // åŠé€æ˜
                ctx.fillRect(area.x, area.y, area.w, area.h);
                ctx.strokeStyle = '#fff';
                ctx.lineWidth = 2;
                ctx.strokeRect(area.x, area.y, area.w, area.h);

                // ç»˜åˆ¶åŒºåŸŸåç§°
                ctx.fillStyle = '#fff';
                ctx.font = `bold ${fontSize}px SimHei`;
                ctx.textAlign = 'center';
                ctx.textBaseline = 'middle';
                ctx.fillText(area.text, area.x + area.w/2, area.y + area.h/2);
            });

            // ç»‘å®šç‚¹å‡»äº‹ä»¶
            canvas.addEventListener('click', function(e) {
                const rect = canvas.getBoundingClientRect();
                const x = (e.clientX - rect.left) * (canvas.width / rect.width) / dpr;
                const y = (e.clientY - rect.top) * (canvas.height / rect.height) / dpr;

                // åˆ¤æ–­ç‚¹å‡»çš„åŒºåŸŸ
                for (let area of areas) {
                    if (x >= area.x && x <= area.x + area.w && y >= area.y && y <= area.y + area.h) {
                        selectArea(area.name);
                        break;
                    }
                }
            });

            // ä¿å­˜åŒºåŸŸæ•°æ®ä¾›å¤–éƒ¨ä½¿ç”¨
            window.houseAreas = areas;
        }

        // é€‰æ‹©åŒºåŸŸå¹¶æ˜¾ç¤ºæµ‹ç®—ç»“æœ
        function selectArea(areaName) {
            // é‡ç½®æ‰€æœ‰æŒ‰é’®çŠ¶æ€
            const areaButtons = document.querySelectorAll('.area-btn');
            areaButtons.forEach(btn => btn.classList.remove('active'));
            
            // æ¿€æ´»å½“å‰æŒ‰é’®
            const activeBtn = Array.from(areaButtons).find(btn => {
                return btn.getAttribute('onclick').includes(areaName);
            });
            if (activeBtn) activeBtn.classList.add('active');

            // å®¶å±…é£æ°´æµ‹ç®—æ•°æ®ï¼ˆå¤§å¹…ä¸°å¯Œï¼‰
            const areaData = {
                living: {
                    name: 'å®¢å…',
                    score: 85,
                    desc: 'å®¢å…æ˜¯ä½å®…çš„æ ¸å¿ƒåŒºåŸŸï¼Œä»£è¡¨å®¶åº­çš„æ•´ä½“è¿åŠ¿å’Œç¤¾äº¤è¿ï¼Œä¹Ÿæ˜¯æ°”åœºæ±‡èšçš„ä¸­å¿ƒã€‚',
                    analysis: 'æ‚¨å®¶å®¢å…ä½äºä½å®…ä¸­å¿ƒä½ç½®ï¼ŒååŒ—æœå—ï¼Œé‡‡å…‰å……è¶³ï¼Œæ°”åœºæµé€šé¡ºç•…ï¼Œæ•´ä½“é£æ°´æ ¼å±€è‰¯å¥½ã€‚å®¢å…æ— æ¨ªæ¢å‹é¡¶ï¼Œæ²™å‘æœªèƒŒé çª—æˆ·ï¼Œç¬¦åˆ"æœ‰é å±±"çš„é£æ°´åŸåˆ™ï¼›ç”µè§†èƒŒæ™¯å¢™æ— é•œé¢åå…‰ï¼Œé¿å…äº†æ°”åœºæ··ä¹±ã€‚',
                    strengths: '1. é‡‡å…‰å……è¶³ï¼Œé˜³æ°”æ—ºç››ï¼›2. æ ¼å±€æ–¹æ­£ï¼Œæ°”åœºç¨³å®šï¼›3. æ— å°–è§’å†²å°„ï¼Œç…æ°”è¾ƒå°‘ï¼›4. åŠ¨çº¿åˆç†ï¼Œæµé€šé¡ºç•…ã€‚',
                    weaknesses: '1. å®¢å…è´¢ä½ï¼ˆä¸œå—è§’ï¼‰æœ‰æ‚ç‰©å †æ”¾ï¼Œå½±å“è´¢è¿æ±‡èšï¼›2. ç»¿æ¤æ‘†æ”¾è¿‡å¤šï¼Œæœ¨æ°”è¿‡æ—ºï¼Œæ˜“å¯¼è‡´å®¶äººæƒ…ç»ªæ³¢åŠ¨ï¼›3. é¢œè‰²æ­é…åå†·ï¼Œç¼ºå°‘æš–è‰²è°ƒè°ƒå’Œã€‚',
                    adjustTips: [
                        'æ¸…ç†å®¢å…ä¸œå—è§’æ‚ç‰©ï¼Œæ‘†æ”¾æ‹›è´¢çŒ«æˆ–è²”è²…æ‘†ä»¶ï¼Œå¢å¼ºè´¢è¿',
                        'å‡å°‘å¤§å‹ç»¿æ¤æ•°é‡ï¼Œä¿ç•™1-2ç›†å°å‹è§‚å¶æ¤ç‰©å³å¯',
                        'å¢åŠ æš–è‰²è°ƒè½¯è£…ï¼ˆå¦‚çº¢è‰²æŠ±æ•ã€é»„è‰²åœ°æ¯¯ï¼‰ï¼Œè°ƒå’Œæ°”åœº',
                        'å®¢å…ä¸­å¤®å¯æ‘†æ”¾åœ†å½¢åŠç¯ï¼Œå¢å¼ºæ°”åœºæ±‡èš',
                        'é¿å…åœ¨å®¢å…æ‘†æ”¾å°–é”ç‰©å“ï¼ˆå¦‚é‡‘å±æ‘†ä»¶ã€æ£±è§’å®¶å…·ï¼‰'
                    ]
                },
                bedroom: {
                    name: 'å§å®¤',
                    score: 78,
                    desc: 'å§å®¤æ˜¯ä¼‘æ¯å…»èº«çš„åŒºåŸŸï¼Œä»£è¡¨å¥åº·è¿å’Œæ„Ÿæƒ…è¿ï¼Œé£æ°´å¥½åç›´æ¥å½±å“ç¡çœ è´¨é‡å’Œèº«å¿ƒå¥åº·ã€‚',
                    analysis: 'æ‚¨å®¶å§å®¤ä½äºä½å®…è¥¿å—è§’ï¼Œå¤ä½å±åœŸï¼Œä¸»ç¨³å®šå’Œè°ï¼Œé€‚åˆä½œä¸ºå§å®¤ä½¿ç”¨ã€‚åºŠå¤´æœå‘æ­£åŒ—ï¼ˆåä½ï¼‰ï¼Œæ°´ä¸»æ™ºï¼Œæœ‰åŠ©äºæå‡ç¡çœ è´¨é‡ï¼›å§å®¤é¢ç§¯é€‚ä¸­ï¼Œæ— è¿‡å¤§æˆ–è¿‡å°çš„é—®é¢˜ã€‚',
                    strengths: '1. åºŠå¤´æœ‰å®å¢™é å±±ï¼Œå®‰å…¨æ„Ÿå¼ºï¼›2. å§å®¤æ— å«ç”Ÿé—´é—¨ç›´å†²ï¼Œé¿å…ç…æ°”å…¥ä¾µï¼›3. é‡‡å…‰é€‚ä¸­ï¼Œé¿å…é˜³å…‰ç›´å°„åºŠä½ï¼›4. å®¶å…·æ‘†æ”¾å¯¹ç§°ï¼Œæ°”åœºå¹³è¡¡ã€‚',
                    weaknesses: '1. åºŠå¤´ä¸Šæ–¹æœ‰åŠç¯ï¼Œæ˜“å¯¼è‡´å¤´ç—›å¤±çœ ï¼›2. å§å®¤é•œå­æ­£å¯¹åºŠä½ï¼Œæ˜“å¼•å‘å™©æ¢¦å’Œæƒ…ç»ªä¸ç¨³ï¼›3. ç”µå™¨è¿‡å¤šï¼Œè¾å°„å½±å“å¥åº·ï¼›4. çª—å¸˜é¢œè‰²è¿‡æ·±ï¼Œé˜´æ°”åé‡ã€‚',
                    adjustTips: [
                        'ç§»é™¤åºŠå¤´ä¸Šæ–¹åŠç¯ï¼Œæ›´æ¢ä¸ºå£ç¯æˆ–è½åœ°ç¯',
                        'ç”¨å¸ƒå¸˜é®æŒ¡é•œå­ï¼Œé¿å…é•œé¢æ­£å¯¹åºŠä½',
                        'å‡å°‘å§å®¤å†…ç”µå™¨æ•°é‡ï¼Œå°¤å…¶é¿å…åœ¨åºŠå¤´æ‘†æ”¾æ‰‹æœºã€å……ç”µå™¨',
                        'æ›´æ¢æµ…è‰²ç³»çª—å¸˜ï¼Œå¢åŠ è‡ªç„¶å…‰è¿›å…¥',
                        'åºŠå¤´å¯æ‘†æ”¾å¤©ç„¶æ°´æ™¶æ‘†ä»¶ï¼Œå‡€åŒ–æ°”åœº'
                    ]
                },
                kitchen: {
                    name: 'å¨æˆ¿',
                    score: 70,
                    desc: 'å¨æˆ¿æ˜¯é¥®é£Ÿä¹‹æºï¼Œä»£è¡¨å¥åº·è¿å’Œè´¢è¿ï¼Œäº”è¡Œå±ç«ï¼Œé£æ°´å¥½åå½±å“å®¶äººå¥åº·å’Œè´¢å¯Œç§¯ç´¯ã€‚',
                    analysis: 'æ‚¨å®¶å¨æˆ¿ä½äºä½å®…ä¸œå—æ–¹ï¼Œå·½ä½å±æœ¨ï¼Œæœ¨ç”Ÿç«ï¼Œç¬¦åˆé£æ°´ç›¸ç”ŸåŸåˆ™ã€‚å¨æˆ¿ç¶å°ä¸æ°´æ§½åˆ†å¼€æ‘†æ”¾ï¼Œé¿å…äº†"æ°´ç«ç›¸å†²"çš„é—®é¢˜ï¼›é€šé£è‰¯å¥½ï¼Œæ²¹çƒŸèƒ½åŠæ—¶æ’å‡ºã€‚',
                    strengths: '1. ç¶å°æœå‘å‰ä½ï¼Œç«æ—ºç”Ÿè´¢ï¼›2. é€šé£é¡ºç•…ï¼Œæ°”åœºæ¸…æ–°ï¼›3. æ”¶çº³æ•´é½ï¼Œæ— æ‚ç‰©å †ç§¯ï¼›4. é¢œè‰²ä»¥æš–è‰²è°ƒä¸ºä¸»ï¼Œç«æ°”å……è¶³ã€‚',
                    weaknesses: '1. å¨æˆ¿é—¨æ­£å¯¹é¤å…ï¼Œæ˜“å¯¼è‡´å®¶äººé£Ÿæ¬²è¿‡ç››ï¼›2. åˆ€å…·å¤–éœ²æ‘†æ”¾ï¼Œç…æ°”è¾ƒé‡ï¼›3. ç¶å°é è¿‘çª—æˆ·ï¼Œç«åŠ›æ˜“æ•£ï¼›4. ç¼ºå°‘ç»¿æ¤è°ƒå’Œç«æ°”ã€‚',
                    adjustTips: [
                        'å®‰è£…é—¨å¸˜é®æŒ¡å¨æˆ¿é—¨ï¼Œé¿å…æ°”åœºç›´å†²é¤å…',
                        'å°†åˆ€å…·æ”¶çº³åˆ°æŠ½å±‰æˆ–åˆ€æ¶ä¸­ï¼Œé¿å…å¤–éœ²',
                        'ç¶å°å¤„å®‰è£…é˜²æ²¹æŒ¡æ¿ï¼Œå‡å°‘ç«åŠ›æ•£å¤±',
                        'æ‘†æ”¾1-2ç›†å°å‹å¤šè‚‰æ¤ç‰©ï¼Œè°ƒå’Œç«æ°”',
                        'å®šæœŸæ¸…æ´å¨æˆ¿ï¼Œä¿æŒç‚‰ç¶å¹²å‡€'
                    ]
                },
                toilet: {
                    name: 'å«ç”Ÿé—´',
                    score: 65,
                    desc: 'å«ç”Ÿé—´æ˜¯æ’æ±¡ä¹‹æ‰€ï¼Œäº”è¡Œå±æ°´ï¼Œé£æ°´ä¸å½“æ˜“å¯¼è‡´ç…æ°”æ‰©æ•£ï¼Œå½±å“å®¶äººå¥åº·å’Œè¿åŠ¿ã€‚',
                    analysis: 'æ‚¨å®¶å«ç”Ÿé—´ä½äºä½å®…è¥¿åŒ—æ–¹ï¼Œä¹¾ä½å±é‡‘ï¼Œé‡‘ç”Ÿæ°´ï¼Œè™½ä¸ç›¸å…‹ä½†æ°´æ°”è¿‡é‡ï¼Œæ˜“å¯¼è‡´è´µäººè¿ä¸‹é™ã€‚å«ç”Ÿé—´æœ‰çª—æˆ·é€šé£ï¼Œå¯åŠæ—¶æ’å‡ºæµŠæ°”ï¼›é©¬æ¡¶æœªæ­£å¯¹é—¨å£ï¼Œé¿å…äº†ç…æ°”ç›´å†²ã€‚',
                    strengths: '1. æœ‰çª—æˆ·é€šé£ï¼ŒæµŠæ°”æ˜“æ•£ï¼›2. é©¬æ¡¶ä½ç½®åˆç†ï¼Œæ— ç›´å†²é—¨ï¼›3. åœ°é¢æ— ç§¯æ°´ï¼Œä¿æŒå¹²ç‡¥ï¼›4. å®šæœŸæ¸…æ´ï¼Œæ— å¼‚å‘³ã€‚',
                    weaknesses: '1. å«ç”Ÿé—´é—¨æ­£å¯¹å§å®¤ï¼Œæ˜“å¯¼è‡´å¥åº·é—®é¢˜ï¼›2. ç¼ºå°‘ç»¿æ¤å‡€åŒ–ç©ºæ°”ï¼›3. é•œé¢è¿‡å¤§ï¼Œæ˜“åå°„ç…æ°”ï¼›4. æ”¶çº³ä¸è¶³ï¼Œæ‚ç‰©è¾ƒå¤šã€‚',
                    adjustTips: [
                        'å®‰è£…ç£¨ç ‚ç»ç’ƒé—¨æˆ–é—¨å¸˜ï¼Œé®æŒ¡å«ç”Ÿé—´é—¨',
                        'æ‘†æ”¾è™å°¾å…°ç­‰è€é˜´æ¤ç‰©ï¼Œå‡€åŒ–ç©ºæ°”',
                        'å‡å°‘é•œé¢é¢ç§¯ï¼Œæˆ–ç”¨å¸ƒå¸˜é®æŒ¡éƒ¨åˆ†é•œé¢',
                        'å¢åŠ æ”¶çº³æŸœï¼Œä¿æŒå«ç”Ÿé—´æ•´æ´',
                        'æ‘†æ”¾å¤©ç„¶ç«¹ç‚­åŒ…ï¼Œå¸é™„æ¹¿æ°”å’Œå¼‚å‘³'
                    ]
                },
                entrance: {
                    name: 'å…¥æˆ·é—¨',
                    score: 90,
                    desc: 'å…¥æˆ·é—¨æ˜¯ä½å®…çš„æ°”å£ï¼Œä»£è¡¨è´¢è¿å’Œè´µäººè¿ï¼Œæ˜¯æ°”åœºè¿›å‡ºçš„å…³é”®é€šé“ã€‚',
                    analysis: 'æ‚¨å®¶å…¥æˆ·é—¨æœå‘æ­£ä¸œï¼ˆéœ‡ä½ï¼‰ï¼Œæœ¨ä¸»æ—ºï¼Œä»£è¡¨äº‹ä¸šå‘å±•é¡ºåˆ©ï¼Œè´µäººè¿ä½³ã€‚é—¨çš„å¤§å°é€‚ä¸­ï¼Œæ— è¿‡é«˜æˆ–è¿‡ä½çš„é—®é¢˜ï¼›é—¨å‰æ— æ‚ç‰©å †ç§¯ï¼Œæ°”åœºé€šç•…ã€‚',
                    strengths: '1. æœå‘å‰ä½ï¼Œè´µäººè¿æ—ºï¼›2. é—¨å‰æ•´æ´ï¼Œæ°”åœºé€šç•…ï¼›3. é—¨çš„é¢œè‰²ä¸ºçº¢è‰²ï¼Œç«æ°”æ—ºç››ï¼›4. æ— å°–è§’å†²å°„ï¼Œç…æ°”è¾ƒå°‘ã€‚',
                    weaknesses: '1. é‹æŸœå¤–éœ²ï¼Œæ˜“å¯¼è‡´æ°”åœºæ··ä¹±ï¼›2. ç¼ºå°‘ç„å…³é®æŒ¡ï¼Œæ°”åœºç›´å†²å®¢å…ï¼›3. é—¨å«é¢œè‰²åæš—ï¼Œç¼ºå°‘ç”Ÿæ°”ï¼›4. é—¨æŠŠæ‰‹æ¾åŠ¨ï¼Œå½±å“ä½¿ç”¨ã€‚',
                    adjustTips: [
                        'å®‰è£…ç„å…³æŸœæˆ–å±é£ï¼Œé®æŒ¡å…¥æˆ·é—¨ç›´å†²å®¢å…',
                        'å°†é‹æŸœæ”¶çº³åˆ°ç„å…³æŸœä¸­ï¼Œé¿å…å¤–éœ²',
                        'æ›´æ¢çº¢è‰²æˆ–é»„è‰²é—¨å«ï¼Œå¢åŠ ç”Ÿæ°”',
                        'åŠæ—¶ç»´ä¿®é—¨æŠŠæ‰‹ï¼Œä¿è¯å¼€å…³é¡ºç•…',
                        'é—¨å£å¯æ‘†æ”¾å°å‹ç»¿æ¤ï¼Œå¢å¼ºç”Ÿæ°”'
                    ]
                },
                study: {
                    name: 'ä¹¦æˆ¿',
                    score: 82,
                    desc: 'ä¹¦æˆ¿æ˜¯å­¦ä¹ å·¥ä½œçš„åŒºåŸŸï¼Œä»£è¡¨æ–‡æ˜Œè¿å’Œäº‹ä¸šè¿ï¼Œé£æ°´å¥½åå½±å“å­¦ä¹ æ•ˆç‡å’Œå·¥ä½œå‘å±•ã€‚',
                    analysis: 'æ‚¨å®¶ä¹¦æˆ¿ä½äºä½å®…ä¸œåŒ—æ–¹ï¼Œè‰®ä½å±åœŸï¼ŒåœŸä¸»ç¨³ï¼Œé€‚åˆé™å¿ƒå­¦ä¹ å’Œå·¥ä½œã€‚ä¹¦æ¡Œæœå‘çª—æˆ·ï¼Œé‡‡å…‰å……è¶³ï¼›åº§æ¤…æœ‰é å±±ï¼Œç¬¦åˆé£æ°´åŸåˆ™ã€‚',
                    strengths: '1. é‡‡å…‰å……è¶³ï¼Œæ€ç»´æ¸…æ™°ï¼›2. åº§æ¤…æœ‰é å±±ï¼Œäº‹ä¸šç¨³å®šï¼›3. æ”¶çº³æ•´é½ï¼Œæ— æ‚ç‰©å¹²æ‰°ï¼›4. é¢œè‰²ä»¥æµ…è‰²è°ƒä¸ºä¸»ï¼Œå¿ƒæƒ…èˆ’ç•…ã€‚',
                    weaknesses: '1. ä¹¦æ¡Œæ­£å¯¹çª—æˆ·ï¼Œæ˜“åˆ†å¿ƒï¼›2. ç”µå­äº§å“è¿‡å¤šï¼Œè¾å°„å½±å“å¥åº·ï¼›3. ç¼ºå°‘æ–‡æ˜Œå¡”ç­‰åŠ©è¿æ‘†ä»¶ï¼›4. ç¯å…‰è¿‡äº®ï¼Œæ˜“ç–²åŠ³ã€‚',
                    adjustTips: [
                        'è°ƒæ•´ä¹¦æ¡Œä½ç½®ï¼Œé¿å…æ­£å¯¹çª—æˆ·',
                        'å‡å°‘ç”µå­äº§å“æ•°é‡ï¼Œæ‘†æ”¾é˜²è¾å°„æ¤ç‰©',
                        'åœ¨ä¹¦æ¡Œå·¦ä¾§æ‘†æ”¾æ–‡æ˜Œå¡”ï¼Œæå‡æ–‡æ˜Œè¿',
                        'æ›´æ¢æŸ”å’Œç¯å…‰ï¼Œé¿å…å¼ºå…‰ç›´å°„',
                        'å®šæœŸæ•´ç†ä¹¦æ¡Œï¼Œä¿æŒæ•´æ´æœ‰åº'
                    ]
                },
                balcony: {
                    name: 'é˜³å°',
                    score: 75,
                    desc: 'é˜³å°æ˜¯ä½å®…çš„çº³æ°”å£ï¼Œä»£è¡¨å¤–éƒ¨è¿åŠ¿å’Œè´µäººè¿ï¼Œä¹Ÿæ˜¯æ°”åœºä¸å¤–ç•Œäº¤æµçš„é€šé“ã€‚',
                    analysis: 'æ‚¨å®¶é˜³å°æœå‘æ­£å—ï¼ˆç¦»ä½ï¼‰ï¼Œç«ä¸»åï¼Œä»£è¡¨åå£°å’Œç¤¾äº¤è¿ã€‚é˜³å°å®½æ•ï¼Œé‡‡å…‰å……è¶³ï¼›æ— æ‚ç‰©å †ç§¯ï¼Œæ°”åœºé€šç•…ã€‚',
                    strengths: '1. æœå‘å‰ä½ï¼Œç¤¾äº¤è¿æ—ºï¼›2. å®½æ•æ˜äº®ï¼Œæ°”åœºé€šç•…ï¼›3. æ— æ‚ç‰©å †ç§¯ï¼Œæ•´æ´æœ‰åºï¼›4. ç»¿æ¤é€‚é‡ï¼Œç”Ÿæ°”å‹ƒå‹ƒã€‚',
                    weaknesses: '1. é˜³å°æ™¾æ™’è¡£ç‰©è¿‡å¤šï¼Œæ˜“å¯¼è‡´æ°”åœºæ··ä¹±ï¼›2. ç¼ºå°‘ä¼‘é—²åŒºåŸŸï¼Œåˆ©ç”¨ç‡ä½ï¼›3. æŠ¤æ è¿‡ä½ï¼Œå®‰å…¨æ„Ÿä¸è¶³ï¼›4. æ— é®é˜³è®¾æ–½ï¼Œå¤å­£è¿‡æ™’ã€‚',
                    adjustTips: [
                        'å®‰è£…éšå½¢æ™¾è¡£æ¶ï¼Œå‡å°‘è¡£ç‰©å¤–éœ²',
                        'è®¾ç½®å°å‹ä¼‘é—²åŒºï¼Œå¢åŠ é˜³å°åˆ©ç”¨ç‡',
                        'åŠ é«˜æŠ¤æ æˆ–å®‰è£…é˜²æŠ¤ç½‘ï¼Œå¢å¼ºå®‰å…¨æ„Ÿ',
                        'å®‰è£…é®é˜³å¸˜ï¼Œè°ƒèŠ‚é˜³å…‰å¼ºåº¦',
                        'æ‘†æ”¾é£æ°´è½®ç­‰æ‘†ä»¶ï¼Œå¢å¼ºæ°”åœºæµé€š'
                    ]
                },
                dining: {
                    name: 'é¤å…',
                    score: 80,
                    desc: 'é¤å…æ˜¯é¥®é£ŸåŒºåŸŸï¼Œä»£è¡¨å¥åº·è¿å’Œå®¶åº­å’Œè°ï¼Œé£æ°´å¥½åå½±å“å®¶äººé£Ÿæ¬²å’Œæ„Ÿæƒ…ã€‚',
                    analysis: 'æ‚¨å®¶é¤å…ä½äºä½å®…ä¸œå—æ–¹ï¼Œå·½ä½å±æœ¨ï¼Œæœ¨ä¸»è¿ï¼Œä»£è¡¨å®¶äººå¥åº·å’Œè´¢è¿ã€‚é¤æ¡Œå¤§å°é€‚ä¸­ï¼Œé€‚åˆå®¶åº­ä½¿ç”¨ï¼›ä½ç½®é è¿‘å¨æˆ¿ï¼Œç”¨é¤æ–¹ä¾¿ã€‚',
                    strengths: '1. ä½ç½®åˆç†ï¼Œç”¨é¤æ–¹ä¾¿ï¼›2. é¤æ¡Œæ–¹æ­£ï¼Œæ°”åœºç¨³å®šï¼›3. é‡‡å…‰å……è¶³ï¼Œé£Ÿæ¬²æ—ºç››ï¼›4. è£…é¥°æ¸©é¦¨ï¼Œå®¶åº­å’Œè°ã€‚',
                    weaknesses: '1. é¤æ¡Œæ­£å¯¹å¨æˆ¿é—¨ï¼Œæ˜“å¯¼è‡´æš´é¥®æš´é£Ÿï¼›2. åº§æ¤…æ•°é‡ä¸å‡ï¼Œæ°”åœºå¤±è¡¡ï¼›3. ç¼ºå°‘ç»¿æ¤è°ƒå’Œï¼›4. ç¯å…‰è¿‡äº®ï¼Œæ˜“ç–²åŠ³ã€‚',
                    adjustTips: [
                        'è°ƒæ•´é¤æ¡Œä½ç½®ï¼Œé¿å…æ­£å¯¹å¨æˆ¿é—¨',
                        'ä¿è¯åº§æ¤…æ•°é‡å¯¹ç§°ï¼Œæ°”åœºå¹³è¡¡',
                        'æ‘†æ”¾å°å‹é²œèŠ±æˆ–ç»¿æ¤ï¼Œè°ƒå’Œæ°”åœº',
                        'æ›´æ¢æŸ”å’Œç¯å…‰ï¼Œè¥é€ æ¸©é¦¨æ°›å›´',
                        'é¤æ¡Œä¸Šå¯æ‘†æ”¾åœ†å½¢æ‘†ä»¶ï¼Œå¢å¼ºå®¶åº­å’Œè°'
                    ]
                }
            };

            // è·å–å½“å‰åŒºåŸŸæ•°æ®
            const data = areaData[areaName] || areaData.living;
            
            // æ˜¾ç¤ºç»“æœå¡ç‰‡
            const resultCard = document.getElementById('calculatorResult');
            resultCard.style.display = 'block';
            
            // æ›´æ–°æ ‡é¢˜
            document.getElementById('resultAreaTitle').textContent = `${data.name}é£æ°´æµ‹ç®—ç»“æœ`;
            
            // åŠ¨ç”»æ˜¾ç¤ºè¯„åˆ†
            const scoreFill = document.getElementById('scoreFill');
            const scoreValue = document.getElementById('scoreValue');
            
            let currentScore = 0;
            const scoreInterval = setInterval(() => {
                currentScore += 1;
                if (currentScore >= data.score) {
                    currentScore = data.score;
                    clearInterval(scoreInterval);
                }
                scoreFill.style.width = `${currentScore}%`;
                scoreValue.textContent = `${currentScore}åˆ†`;
            }, 20);
            
            // æ›´æ–°ç»“æœå†…å®¹
            document.getElementById('resultContent').innerHTML = `
                <div class="result-section">
                    <div class="result-section-title">åŒºåŸŸè§£è¯»ï¼š</div>
                    ${data.desc}
                </div>
                <div class="result-section">
                    <div class="result-section-title">é£æ°´åˆ†æï¼š</div>
                    ${data.analysis}
                </div>
                <div class="result-section">
                    <div class="result-section-title">ä¼˜åŠ¿ï¼š</div>
                    ${data.strengths}
                </div>
                <div class="result-section">
                    <div class="result-section-title">ä¸è¶³ï¼š</div>
                    ${data.weaknesses}
                </div>
                <div class="result-section">
                    <div class="adjust-tips">
                        <div class="adjust-tips-title">è°ƒæ•´å»ºè®®ï¼š</div>
                        <ul class="adjust-tips-list">
                            ${data.adjustTips.map(tip => `<li>${tip}</li>`).join('')}
                        </ul>
                    </div>
                </div>
            `;

            // ä¿å­˜å½“å‰é€‰ä¸­åŒºåŸŸ
            window.currentArea = data;
        }

        // ä¿å­˜å®¶å±…é£æ°´ç»“æœ
        function saveHouseResult() {
            if (!window.currentArea) {
                alert('è¯·å…ˆé€‰æ‹©æµ‹ç®—åŒºåŸŸå¹¶æŸ¥çœ‹ç»“æœåå†ä¿å­˜ï¼');
                return;
            }

            // æ„é€ ä¿å­˜æ•°æ®
            const resultData = {
                area: window.currentArea.name,
                score: window.currentArea.score,
                content: document.getElementById('resultContent').innerHTML,
                time: new Date().toLocaleString()
            };

            // ä¿å­˜åˆ°æœ¬åœ°å­˜å‚¨
            const houseResults = JSON.parse(localStorage.getItem('houseFengshuiResults') || '[]');
            houseResults.push(resultData);
            // åªä¿ç•™æœ€è¿‘8æ¡ç»“æœ
            const latestResults = houseResults.slice(-8);
            localStorage.setItem('houseFengshuiResults', JSON.stringify(latestResults));

            alert(`âœ… ${window.currentArea.name}é£æ°´æµ‹ç®—ç»“æœå·²ä¿å­˜ï¼å¯åœ¨"æˆ‘çš„"é¡µé¢æŸ¥çœ‹`);
        }

        // ç”Ÿæˆå…¨å±‹é£æ°´æŠ¥å‘Šï¼ˆæ¨¡æ‹ŸåŠŸèƒ½ï¼‰
        function generateFullReport() {
            // æ¨¡æ‹ŸæŠ¥å‘Šå†…å®¹
            const reportContent = `
ã€å…¨å±‹é£æ°´ç»¼åˆæŠ¥å‘Šã€‘
ç”Ÿæˆæ—¶é—´ï¼š${new Date().toLocaleString()}
æ•´ä½“è¯„åˆ†ï¼š78åˆ†ï¼ˆè‰¯å¥½ï¼‰

ä¸€ã€æ ¸å¿ƒç»“è®ºï¼š
1. æ‚¨å®¶ä½å®…æ•´ä½“ååŒ—æœå—ï¼Œå±äºå‰ä½æœå‘ï¼Œæ•´ä½“é£æ°´æ ¼å±€è‰¯å¥½
2. å…¥æˆ·é—¨ã€å®¢å…ã€ä¹¦æˆ¿é£æ°´è¯„åˆ†è¾ƒé«˜ï¼Œæ˜¯ä½å®…çš„ä¼˜åŠ¿åŒºåŸŸ
3. å«ç”Ÿé—´ã€å¨æˆ¿é£æ°´å­˜åœ¨ä¸€å®šä¸è¶³ï¼Œéœ€è¦é‡ç‚¹è°ƒæ•´
4. æ•´ä½“æ°”åœºæµé€šé¡ºç•…ï¼Œé˜³æ°”å……è¶³ï¼Œå®¶äººå¥åº·å’Œäº‹ä¸šè¿è¾ƒå¥½

äºŒã€åŒºåŸŸå»ºè®®ï¼š
1. å…¥æˆ·é—¨ï¼šä¿æŒæ•´æ´ï¼Œå®‰è£…ç„å…³æŸœå¢å¼ºæ°”åœºæ±‡èš
2. å®¢å…ï¼šæ¸…ç†è´¢ä½æ‚ç‰©ï¼Œå¢åŠ æš–è‰²è°ƒè½¯è£…
3. å§å®¤ï¼šç§»é™¤åºŠå¤´åŠç¯ï¼Œé®æŒ¡é•œé¢åå…‰
4. å¨æˆ¿ï¼šæ”¶çº³åˆ€å…·ï¼Œå¢åŠ ç»¿æ¤è°ƒå’Œç«æ°”
5. å«ç”Ÿé—´ï¼šå®‰è£…é—¨å¸˜é®æŒ¡ï¼Œæ‘†æ”¾å‡€åŒ–æ¤ç‰©
6. ä¹¦æˆ¿ï¼šè°ƒæ•´ä¹¦æ¡Œä½ç½®ï¼Œæ‘†æ”¾æ–‡æ˜Œå¡”åŠ©è¿
7. é˜³å°ï¼šå‡å°‘è¡£ç‰©å¤–éœ²ï¼Œå¢åŠ ä¼‘é—²åŒºåŸŸ
8. é¤å…ï¼šè°ƒæ•´é¤æ¡Œä½ç½®ï¼Œè¥é€ æ¸©é¦¨æ°›å›´

ä¸‰ã€æ•´ä½“è°ƒæ•´æ–¹æ¡ˆï¼š
1. å®šæœŸæ¸…æ´å„åŒºåŸŸï¼Œä¿æŒæ°”åœºé€šç•…
2. æ ¹æ®äº”è¡Œç”Ÿå…‹åŸç†ï¼Œåœ¨ç›¸åº”åŒºåŸŸæ‘†æ”¾è°ƒå’Œæ‘†ä»¶
3. æ§åˆ¶ç»¿æ¤æ•°é‡ï¼Œé¿å…æœ¨æ°”è¿‡æ—º
4. å‡å°‘é•œé¢å’Œå°–é”ç‰©å“æ‘†æ”¾ï¼Œé™ä½ç…æ°”
5. å¢åŠ æš–è‰²è°ƒè£…é¥°ï¼Œæå‡æ•´ä½“è¿åŠ¿

å››ã€æ¸©é¦¨æç¤ºï¼š
æœ¬æŠ¥å‘ŠåŸºäºä¼ ç»Ÿé£æ°´ç†è®ºç”Ÿæˆï¼Œä»…ä¾›å‚è€ƒã€‚å®¶å±…é£æ°´çš„æ ¸å¿ƒæ˜¯æ•´æ´ã€èˆ’é€‚ã€å’Œè°ï¼Œå»ºè®®ç»“åˆè‡ªèº«ç”Ÿæ´»ä¹ æƒ¯è¿›è¡Œè°ƒæ•´ï¼Œç†æ€§çœ‹å¾…é£æ°´æ–‡åŒ–ã€‚
            `;

            // æ¨¡æ‹Ÿç”ŸæˆæŠ¥å‘Šï¼ˆå¤åˆ¶åˆ°å‰ªè´´æ¿ï¼‰
            navigator.clipboard.writeText(reportContent).then(() => {
                alert('ğŸ“„ å…¨å±‹é£æ°´æŠ¥å‘Šå·²ç”Ÿæˆå¹¶å¤åˆ¶åˆ°å‰ªè´´æ¿ï¼\n\næ‚¨å¯ä»¥ç²˜è´´åˆ°æ–‡æ¡£ä¸­æŸ¥çœ‹å®Œæ•´å†…å®¹');
            }).catch(() => {
                alert(`ğŸ“„ å…¨å±‹é£æ°´æŠ¥å‘Šå·²ç”Ÿæˆï¼š\n\n${reportContent}`);
            });

            // ä¿å­˜æŠ¥å‘Šåˆ°æœ¬åœ°å­˜å‚¨
            const fullReports = JSON.parse(localStorage.getItem('fullHouseReports') || '[]');
            fullReports.push({
                id: Date.now(),
                content: reportContent,
                time: new Date().toLocaleString()
            });
            localStorage.setItem('fullHouseReports', JSON.stringify(fullReports.slice(-3))); // ä¿ç•™æœ€è¿‘3ä»½æŠ¥å‘Š
        }

        // å¤ç”¨ä¸»é¢˜åˆ¤æ–­å‡½æ•°
        function getCurrentTheme() {
            return localStorage.getItem('compassTheme') || 'youth';
        }
    </script>
</body>
</html>
